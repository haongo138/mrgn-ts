{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";var EventEmitter=function(){function EventEmitter(){_classCallCheck(this,EventEmitter);this._registry={};}_createClass(EventEmitter,[{key:\"addListener\",value:function addListener(eventType,listener,context){var registrations=allocate(this._registry,eventType);var registration={context:context,listener:listener,remove:function remove(){registrations.delete(registration);}};registrations.add(registration);return registration;}},{key:\"emit\",value:function emit(eventType){var registrations=this._registry[eventType];if(registrations!=null){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}for(var _i=0,_arr=_toConsumableArray(registrations);_i<_arr.length;_i++){var registration=_arr[_i];registration.listener.apply(registration.context,args);}}}},{key:\"removeAllListeners\",value:function removeAllListeners(eventType){if(eventType==null){this._registry={};}else{delete this._registry[eventType];}}},{key:\"listenerCount\",value:function listenerCount(eventType){var registrations=this._registry[eventType];return registrations==null?0:registrations.size;}}]);return EventEmitter;}();export{EventEmitter as default};function allocate(registry,eventType){var registrations=registry[eventType];if(registrations==null){registrations=new Set();registry[eventType]=registrations;}return registrations;}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}